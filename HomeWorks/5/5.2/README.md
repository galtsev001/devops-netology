## 5.2. Системы управления виртуализацией

#### 1) Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

#### Сценарии:

+ #### 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий
+ #### Требуется наиболее производительное бесплатное opensource решение для виртуализации небольшой (20 серверов) инфраструктуры Linux и Windows виртуальных машин
+ #### Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры
+ #### Необходимо рабочее окружение для тестирование программного продукта на нескольких дистрибутивах Linux

**Ответ:**

+ #### 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий
+ ***VMware*** - 100 серверов, скорей всего будет использовать компания средних или больших размеров. Продукт платный, но позволит организации:
```
* Гибкое управление всеми машинами
* Работает хорошо с Linux и Windows
* Удобный Backup
* Система клонирования, позволит с легкостью масштабировать систему
```

+ #### Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий

+ ***XEN*** - золотая середина производительности и надежности opensource платформы для виртуализации Windows и Linux машин. 

+ #### Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры

+ ***KVM*** - бесплатное и максимально совместимое для работы Windows машин

+ #### Необходимо рабочее окружение для тестирование программного продукта на нескольких дистрибутивах Linux

+ ***VirtualBox*** - ПО совместно с Vagrant максимально упростит процесс тестирования. Docker - не подходит под наши цели так как будет использовать ядро нашей системы.

#### 2) Опишите сценарий миграции с VMware vSphere на Hyper-V для Linux и Windows виртуальных машин. Детально опишите необходимые шаги для использования всех преимуществ Hyper-V для Windows.

**Ответ:** 

+ *Конвертация образа диска виртуальной машины*
```
* Необходимо воспользоваться любым инструментом для конвертации образов дисков (на пример: StarWind V2V Converter)
* перед началом конвертации удаляем все инструменты интеграции VMWare из виртуальной машины (VMWare Tools)
* Конвертируем из VMWare (VMDK) -> HyperV(VHDX)
* При создании в Hyper-V указываем путь до нашего диска HyperV(VHDX)
```

+ *Microsoft System Center Virtual Machine Manager*

Инструмент Microsoft для простой конвертации виртуальных серверов из формата VMware Hyper-V

#### 3) Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был бы выбор, то создавали ли вы бы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

**Ответ**

+ *Возможные проблемы*

```
* Слабая совместимость решений различных вендоров, сложности автоматизации процессов; 
* Возможные затраты на обучение и переобучение сотрудников для работы с различными инструментами, необходимость иметь больше администраторов в штате;
* Сложности управления - для разнородных систем понадобятся разные инструменты управления, мониторинга, резервного копирования.  
```

Если у меня был бы выбор, то я бы склонялся к единой платформе управления всем парком машин.
Как было сказано ранее ни кто нам не даст гарантию совместимости (даже если сейчас все хорошо) в будущем.
Искать баги или пытаться автоматизировать эти процессы будет приравниваться к подвигу ))))
