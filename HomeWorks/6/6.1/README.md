## 6.1. Типы и структура СУБД

### Задача 1
#### Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.
#### Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

+ #### Электронные чеки в json виде
+ #### Склады и автомобильные дороги для логистической компании
+ #### Генеалогические деревья
+ #### Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
+ #### Отношения клиент-покупка для интернет-магазина
#### Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.
___
**Ответ:**
* _Электронные чеки в json виде_  
  Здесь, подойдет документ-ориентированная БД для хранения json файлов.


* _Склады и автомобильные дороги для логистической компании_  
  Любая SQL БД


* _Генеалогические деревья_  
  Для таких целей идеальным вариантом будет сетевая БД, которая имеет свЗи типа "родитель-потомок"


* _Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации_  
  Думаю Redis или mermached будет идеальным вариантом


* _Отношения клиент-покупка для интернет-магазина_  
  Можно выбрать cиcтему типа key-value, как подходящие для реализации взаимосвязи отношений клиент-товар.
___
### Залача 2
#### Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

+ #### Данные записываются на все узлы с задержкой до часа (асинхронная запись)
+ #### При сетевых сбоях, система может разделиться на 2 раздельных кластера
+ #### Система может не прислать корректный ответ или сбросить соединение
#### А согласно PACELC-теореме, как бы вы классифицировали данные реализации?
___
**Ответ:**
_Данные записываются на все узлы с задержкой до часа (асинхронная запись)_  
По CAP: CP; По PACELC: PA/EL  
_При сетевых сбоях, система может разделиться на 2 раздельных кластера_  
По CAP: AP; По PACELC: PA/EC  
_Система может не прислать корректный ответ или сбросить соединение_  
По CAP: CA; По PACELC: EC/PC
___
### Задача 3
#### Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?
___
**Ответ:**
Все как в картинке `"Быстро - Не дорого - Качественно"` - нужно выбрать любые два.

Оба подхода направлены на разные свойства (BASE - надежность, ACID - производительность), поэтому при попытках реализовать оба метода ни к чему не приведут хорошему. Возможно будет работать одно из направлений. 
___
### Залача 4
#### Вам дали задачу написать системное решение, основой которого бы послужили:
+ #### фиксация некоторых значений с временем жизни
+ #### реакция на истечение таймаута
#### Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора данной системы?
___
**Ответ:**
Key-value хранилище с механизмом Pub/Sub - это Redis. Минус - нехватка автоматического механизма обеспечения отказоустойчивости. Можно использовать Redis sentinel, в составе которой есть необходимый механизм выбора ведущего узла.
___
